steps:
  - checkout: self
    submodules: true

  - task: UsePythonVersion@0
    inputs:
      versionSpec: '3.x'

  - script: |
      cd $(Build.SourcesDirectory)
      python -m pip install aqtinstall
    displayName: 'Install aqtinstall'

  - script: |
      cd $(Build.SourcesDirectory)
      python -m aqt install --outputdir $(Build.BinariesDirectory)/Qt $(QtVersion)  linux desktop -m qtcore qtxml qtnetwork qtwebsockets
    displayName: 'Install Qt $(QtVersion)'

  - task: CMake@1
